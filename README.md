# 个人门户服务端

## 架构设计

在传统的三层架构基础上增加了数据层

| 编号 | 名称 | 描述 |
| :---: | :---: | :---: |
| 1 | 控制层 | 调用业务层，完成接口功能 |
| 2 | 业务层 | 对数据的访问只能通过调用数据层来完成，禁止直接调用持久层 |
| 3 | 数据层 | 数据层，用来维护数据库、缓存、全文搜索引擎等数据的一致 |
| 4 | 持久层 | 仅供数据层调用 |

- 持久层使用mybatis-plus实现

- 数据层基于mybatis-plus的`IService`和`ServiceImpl`实现，使用`@CacheEnhance`在编译期重写`ServiceImpl`的方法，同时追加缓存管理注解，
使用`@CacheEnhance`时，需要在对应的实现类或接口中定义两个常量：`BASE_CACHE_NAME`和`CASUAL_CACHE_NAME`，否则编译会报错

- 业务层通过`IBaseService`和`BaseServiceImpl`静态代理了对应数据层的所有方法，一般情况下不需要显式的调用数据层，
业务之间互相调用，也通过service，而不是去调用其他业务的数据层对象，这样可以使代码更加整洁（个人习惯）

## 接口文档

使用swagger2自动生成restful文档，支持调用，使用`SwaggerFilter`将登录和登出接口添加到动态文档中，在其他接口的参数中统一增加了认证参数，
调用接口时，将登录返回的认证参数填入即可

## 参数设计

## 参数校验

## 返回值设计

## 缓存设计

## 认证授权
